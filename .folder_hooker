### Coloring and styling
code='\033[0;31m'
title='\033[0;37m'
N='\033[0m' # No Color
B='\033[5m' 

### Easy formatted echo
out() {	
	echo -e "$1"
}

### Easy formatted / underlined title
tit() {
	out "${B}${title}$1${N}"

	len=${#1} ch='â”' 
	printf "${title}%*s\n${N}" "$len" | tr ' ' "$ch"
}

getLineNumber() {
	echo $(awk "/alias $1=/{print NR}" ~/.folder_hooker_hooks)
}

hook() {

	if [ $# -eq 0 ]
	  then
	  	tit " Folder Hook ğŸ“‚âš“ : create/manage aliases to jump quickly into your project folders"
	    out 
	    tit "ğŸ‘·  Create new hook:"	    
	    out " Go to folder you want to create a hook for"
	    out " Type ${code}hook${N} followed by the hook-name, e.g. ${code}hook myProject${N}"
	    out
	    tit "ğŸƒ  Use a hook:"	    
	    out " Type the hook-name, e.g. ${code}myProject${N}"
	    out
	    tit "ğŸ¤”  List all hooks"
	    out " Type ${code}hooks${N}"
	    out
	    tit "ğŸ’€  Delete hook"
	    out " Type ${code}unhook${N} followed by the hook-name, e.g. ${code}unhook myProject${N}"
	    return
	fi

	lineNumber=$(getLineNumber $1)

	if [ ${#lineNumber} -eq 0 ]
	  then
	  	locationToHook=$(pwd)
		echo "alias" $1=\'cd $locationToHook\' >> ~/.folder_hooker_hooks
		. ~/.bash_profile
		out "âœ…  Success: Created the hook: ${code}$1${N} to ${code}$(pwd)${N} âœ…"
	  else
	  echo "âŒ  Error: already existed âŒ"
	fi
}

hooks() {
	cat ~/.folder_hooker_hooks
}

unhook() {
	if [ $# -eq 0 ]
	  then 
	  echo "âŒ  Error: no file specified! âŒ"
	  return;
	fi

	lineNumber=$(getLineNumber $1)

	if [ ${#lineNumber} -eq 0 ]
	  then
	  	out "âŒ  Error: can't find hook-name: ${code}$1${N}, try to find with ${code}hooks${N} âŒ"
	  else
		sed -i.bak "${lineNumber}d" ~/.folder_hooker_hooks
		out "âœ…  Success: Delete the hook: ${code}$1${N} âœ… ğŸ’€"
	fi
}

. ~/.folder_hooker_hooks